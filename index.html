<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<link rel="stylesheet" href="css/style.css">
    <title>TIC TAC TOE</title>
</head>
<body>
    <section>
        <div class="container">
            <div class="row">
                <div class="col-12 align-center">

                    <div class="box marginL marginT">
                        <img onclick="game('first')" id="first" src="images/black.png" alt="">
                    </div>
                    <div class="box marginT" >
                        <img id="second" onclick="game('second')" src="images/black.png" alt="">
                    </div>
                    <div class="box marginR marginT" >
                        <img id="third" onclick="game('third')" src="images/black.png" alt="">
                    </div>
                  
                </div>
                <div class="col-12 align-center">

                    <div class="box marginL">
                        <img id="four" onclick="game('four')" src="images/black.png" alt="">
                    </div>
                    <div class="box ">
                        <img id="five" onclick="game('five')" src="images/black.png" alt="">
                    </div>
                    <div class="box marginR">
                        <img id="six" onclick="game('six')" src="images/black.png" alt="">
                    </div>
                  
                </div>
                <div class="col-12 align-center">

                    <div class="box marginB marginL">
                        <img id="seven" onclick="game('seven')" src="images/black.png" alt="">
                    </div>
                    <div class="box marginB">
                        <img id="eight" onclick="game('eight')" src="images/black.png" alt="">
                    </div>
                    <div class="box marginB marginR">
                        <img id="nine" onclick="game('nine')" src="images/black.png" alt="">
                    </div>
                  
                </div>
              
                
            </div>
        </div>
    </section>
    <script>
        var count=1;
        
        function game(value){
            var num=this.count;
           
            if(num%2==0){
                
                document.getElementById(value).src="images/rec.png"
                setTimeout(function() {
                    checkCondition('player2');
                }, 100);
            
            }
            else{
                
                document.getElementById(value).src="images/close.png"
                setTimeout(function() {
                    checkCondition('player1');
                }, 100);
            
               
            }
            this.count++;
          
          
           
        }
        function checkCondition(value) {
            var box1 = getImageFileName('first');
            var box2 = getImageFileName('second');
            var box3 = getImageFileName('third');
            var box4 = getImageFileName('four');
            var box5 = getImageFileName('five');
            var box6 = getImageFileName('six');
            var box7 = getImageFileName('seven');
            var box8 = getImageFileName('eight');
            var box9 = getImageFileName('nine');

            let flag=0;
            if ((box1 === box2 && box2 === box3 && box1 !== "black.png") ||
                (box4 === box5 && box5 === box6 && box4 !== "black.png") ||
                (box7 === box8 && box8 === box9 && box7 !== "black.png") ||
                (box1 === box4 && box4 === box7 && box1 !== "black.png") ||
                (box2 === box5 && box5 === box8 && box2 !== "black.png") ||
                (box3 === box6 && box6 === box9 && box3 !== "black.png") ||
                (box1 === box5 && box5 === box9 && box1 !== "black.png") ||
                (box3 === box5 && box5 === box7 && box3 !== "black.png")) {
                  
                if(value=="player1"){
                    alert("Player 1 is the winner!");
                    flag=1;
                }else{
                    alert("Player 2 is the winner!");   
                    flag=1;                   
                }
            } else {
                if(count>9){
                alert("match Draw");
                clear();
                }
                console.log("No winner yet.");
            }
            if(flag==1){
                clear();
            }
        }
        // use this function to retrieve the image name and store it then easy to compare
        function getImageFileName(boxId) {
            var src = document.getElementById(boxId).src;
            return src.substring(src.lastIndexOf('/') + 1);
        }
        function clear(){
           location.reload();
        }

    </script>
</body>
</html>